@use "colours";
// For the bottom aligned footer
html, body {
	height: 100%;
}
body {
	display: flex;
	flex-direction: column;
	font-family: system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
}

footer {
	flex-shrink: 0;
	padding-top: 20px;
}

body {
	color: colours.$main-color;
	background-color: colours.$main-bg;
}

h1, h2, h3, h4, h5, h6 {
	color: colours.$header-color;
}

h1, h2 {
	border-bottom: 1px solid colours.$borders;
}

hr {
	opacity: 0.5;
}

blockquote {
	color: colours.$blockquote-color;
	margin-bottom: 20px;
	padding: 0 0 0 20px;
	border-left: 3px solid colours.$borders;
}

:not(pre) > code, pre {
	color: colours.$code-color;
	background-color: colours.$code-bg;
	padding: 3px;
	border-radius: 0.25rem;
}

:not(pre) > code:not(.wrap) {
	white-space: nowrap;

	@media screen and (max-width: 576px) {
		white-space: normal;
	}
}

pre {
	padding: 16px;
	border-radius: 0.5rem;
	white-space: pre;
}

a > code {
	color: inherit!important;
}

div.language-bash pre.highlight code::before {
	content: "colours.$ ";
	color: colours.$code-light;
}

pre {
	white-space: pre-wrap;
}

// .a is for making other things look like <a>s
a, .a {
	text-decoration: none;
	text-decoration-thickness: 1px;
	color: colours.$a-color;
	cursor: pointer;
}
a:hover, .a:hover {
	text-decoration: underline;
}

a.clean {
	text-decoration: none;
}

footer a {
	color: inherit;
	font-weight: bold;
	text-decoration: underline;
}
footer a:hover {
	color: inherit;
	opacity: 50%;
}

small {
	font-size: 75%;
	color: colours.$small-color;
}

img {
	max-width: 100%;
	height: auto;
}

.content {
	flex: 1 0 auto;
}

.container, .container-fluid, .container-lg, .container-md, .container-sm, .container-xl, .container-xxl {
	padding-left: 0.75rem;
	padding-right: 0.75rem;
}

.btn, .btn a, a.btn {
	text-decoration: none;
}

.btn:focus {
	box-shadow: none;
}

div .btn-primary:hover {
	background-color: inherit;
	opacity: inherit;
}

// Override bootstraps primary color
.bg-primary {
	background-color: colours.$primary!important;
}
.btn-primary, .btn-primary:focus {
	color: colours.$nav-link-color;
	background-color: colours.$primary!important;
	border-color: colours.$primary!important;
}
.btn-primary:hover, .btn-primary:active {
	color: colours.$nav-link-color!important;
	opacity: 0.8;
}
.btn-outline-primary {
	color: colours.$primary;
	border-color: colours.$primary;
}
.btn-outline-primary:hover, .btn-outline-primary:active {
	background-color: colours.$primary!important;
	border-color: colours.$primary!important;
}
.text-primary {
	background-color: colours.$primary!important;
}

// Override the secondary text color
.btn-outline-secondary {
	color: colours.$main-color;
}

.alert-secondary {
	color: colours.$code-color;
	background-color: colours.$alert-secondary-bg;
	border-color: colours.$alert-secondary-border;
}

// Override the dark text too
.text-dark {
	color: colours.$dark!important;
}
// text-dark that I dont override
.text-dark-always {
	color: colours.$dark-always!important;
}

// And the light bg
.bg-light {
	background-color: colours.$light!important;
	border-color: colours.$light-border!important;
}

.bg-light::placeholder {
	color: colours.$light-placeholder;
}

// No underline on navbar links
.navbar a {
	text-decoration: none;
}

// Dim navbar-brand on hover
.navbar a.navbar-brand:hover {
	opacity: 0.5;
}

// Override nav-link color
.navbar .nav-link {
	color: colours.$nav-link-color!important;
}
.navbar .nav-link:hover {
	color: colours.$nav-link-color-hover!important;
}

// And the active nav-link color
.navbar .nav-link.active {
	color: colours.$nav-link-color-active!important;
}
.navbar .nav-link.active:hover {
	color: colours.$nav-link-color-hover!important;
}

// Fixes for navbar on older browsers
html[dir=ltr] .navbar-toggler {
	position: absolute;
	right: 0.75rem;
	top: 0.5rem;
}

html[dir=rtl] .navbar-toggler {
	position: absolute;
	left: 0.75rem;
	top: 0.5rem;
}

.navbar {
	min-height: 3.5rem;
}

// Make dropdowns site-colored and animated
.dropdown-menu, .dropdown .hover-content {
	background-color: colours.$primary;
	-webkit-transition: 300ms ease;
	transition: 300ms ease;
	display: block;
	height: 0;
	padding: 0;
	overflow: hidden;
	visibility: hidden;
	line-height: 0;
	margin: 0;
}
.dropdown .hover-content {
	display: none;
}
.dropdown-menu.show, .dropdown:hover .hover-content {
	display: block;
	height: inherit;
	line-height: inherit;
	padding: 0.5rem 0;
	visibility: visible;
}

.navbar-toggler:hover+.navbar-collapse.hover-content, .navbar-collapse.hover-content:hover {
	display: block;
}

.dropdown-item {
	color: colours.$nav-link-color;
}
.dropdown-item.active {
	background-color: unset;
}
.dropdown-item:hover, .dropdown-item:active, .dropdown-item:focus {
	background-color: colours.$dropdown-item-bg-hover;
	color: colours.$nav-link-color-hover;
}

// Make images smaller
.img-small {
	max-width: 250px;
	max-height: 250px;
}


html:not([dir=rtl]) {
	.btn-back {
		position: absolute;
		left: 5px;
		margin: 5px 0;
		font-size: 8pt;
		padding: 5px;
		z-index: 10;
	}

	.btn-with-qr {
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;
		margin-right: 0!important;
		padding-right: 0.25rem;
	}

	.btn-qr {
		border-top-left-radius: 0;
		border-bottom-left-radius: 0;
		margin-left: -5px!important;
		padding-left: 0.5rem;
		padding-right: 0.5rem;
	}

	.end-3 {
		right: 1rem;
	}
}

html[dir=rtl] {
	.btn-back {
		position: absolute;
		right: 5px;
		margin: 5px 0;
		font-size: 8pt;
		padding: 5px;
		z-index: 10;
	}

	.btn-with-qr {
		border-top-left-radius: 0;
		border-bottom-left-radius: 0;
		margin-left: 0!important;
		padding-left: 0.25rem;
	}

	.btn-qr {
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;
		margin-right: -5px!important;
		padding-right: 0.5rem;
		padding-left: 0.5rem;
	}

	.end-3 {
		left: 1rem;
	}
}

// Input box
.input-group-text {
	color: colours.$light-placeholder;
	background-color: colours.$light;
	border-color: colours.$light-border;
}
.form-control, .form-control:focus, .form-control::placeholder {
	color: colours.$main-color;
	background-color: colours.$light;
	border-color: colours.$light-border;
}
.form-control:disabled {
	background-color: colours.$light-disabled;
}

.input-group-text, .form-control::-webkit-file-upload-button {
	background-color: colours.$alert-secondary-bg;
	color: colours.$main-color;
}
.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button {
	background-color: colours.$alert-secondary-border;
}
// Safari is dumb and doesn't let the Firefox one be with the others
.form-control::file-selector-button {
	background-color: colours.$alert-secondary-bg;
	color: colours.$main-color;
}
.form-control:hover:not(:disabled):not([readonly])::file-selector-button {
	background-color: colours.$alert-secondary-border;
}

// Cards
.card {
	background-color: inherit;
}

.card a {
	text-decoration: none;
	font-weight: normal;
}

.card a:hover h4, .card a:hover small, .card a:hover p.card-text {
	opacity: 50%;
}

.card-footer a {
	text-decoration: underline;
}

.card-image {
	max-height: 128px;
}

.card-image-header {
	height: 145px;
	display: flex;
	align-items: center;
	justify-content: center;
}

.card {
	background-color: colours.$card-background;
}

.card-header, .card-footer {
	background-color: colours.$card-edges-background;
}

.pointer {
	cursor: pointer;
}

.card-qr {
	color: colours.$small-color;
}

.card-qr:hover {
	opacity: 75%;
}

.qr-image {
	border-radius: 1rem;
}

.modal-content {
	background-color: colours.$main-bg;
}
.modal-header {
	border-bottom: colours.$modal-borders;
}
.modal-footer {
	border-top: colours.$modal-borders;
}

.carousel-label {
	background-color: colours.$carousel-caption-bg;
	border-radius: 10px;
}

html[dir=lrt] .li-bullet {
	list-style: disc;
	margin-left: 1.25em;
}

html[dir=rtl] .li-bullet {
	list-style: disc;
	margin-right: 1.5em;
}

// Hide header anchors unless hovering the header
.header-anchor {
	text-decoration: none;
	display: none;
}

h1:hover, h2:hover, h3:hover, h4:hover, h5:hover, h6:hover {
	.header-anchor {
		display: inline;
		text-decoration: none;
	}
}

// File forms
.form-control {
	background-color: colours.$main-bg;
	color: colours.$main-color;
	border: 1px solid colours.$borders;
}

.input-group-text, .form-control::-webkit-file-upload-button {
	background-color: colours.$secondary-bg;
	color: colours.$main-color;
	border: 1px solid colours.$borders;
}
.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button {
	background-color: colours.$code-bg;
}
// Safari is dumb and don't let the Firefox one be with the others
.form-control::file-selector-button {
	background-color: colours.$secondary-bg;
	color: colours.$main-color;
	border: 1px solid colours.$borders;
}
.form-control:hover:not(:disabled):not([readonly])::file-selector-button {
	background-color: colours.$code-bg;
}

// Tables
table {
	margin-bottom: 1em;
}
table th {
	text-align: center;
}
table th, table td {
	padding: 6px 13px;
	border: 1px solid colours.$light-borders;
}
table tr:nth-child(2n) {
	background-color: colours.$table-alt-bg;
}
// Fix bootstrap messing up the th bottom borders and dark mode text
.table>:not(:last-child)>:last-child>* {
	border-bottom-color: colours.$light-borders;
}

.table {
	color: inherit;
}

// Buttons
kbd {
	padding: 3px 6px;
	font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
	line-height: 10px;
	color: colours.$main-color;
	vertical-align: middle;
	background-color: colours.$kbd-bg;
	border: 1px solid colours.$kbd-border;
	border-radius: 6px;
	box-shadow: inset 0 -1px 0 colours.$kbd-border;
}

kbd.l {
	border-radius: 15px 6px 6px 6px;
	padding-left: 8px;
}

kbd.r {
	border-radius: 6px 15px 6px 6px;
	padding-right: 8px;
}

kbd.face {
	border-radius: 15px;
}

// Sidebar
.sidebar-container {
	font-size: 0.9rem;
	border: 1px solid colours.$borders;
}

.sidebar-container ul {
	margin-bottom: 0;
}

.sidebar-container li:not(:last-of-type) {
	padding-bottom: 0.25rem;
}

// Details
:not(li) > details {
	margin-bottom: 1rem;
}

.details-content {
	background-color: colours.$details-bg;
	margin-left: 1rem;
	padding: 0.5rem;
	border-radius: 0.5rem;
}

// Footnotes
.footnotes li p {
	margin-bottom: 0.25rem;
}

a.footnote {
	unicode-bidi: isolate;
}

a.footnote::before {
	content: "[";
}
a.footnote::after {
	content: "]";
}

// Alerts
.small-alert {
	padding: 0.5rem 1rem;
}

// Fixes for alerts of opposite text direction
.alert-dismissible[dir=ltr] {
	padding-left: 1rem;
}
.alert-dismissible[dir=rtl] {
	padding-right: 1rem;
}

.alert-dismissible[dir=ltr] .btn-close {
	left: unset;
	right: 0;
}
.alert-dismissible[dir=rtl] .btn-close {
	left: 0;
	right: unset;
}

// Tabs
.tab-container {
	display: flex;
	flex-wrap: wrap;

	.tab-link {
		border: 1px solid colours.$borders;
		border-bottom-width: 0;
		padding: 0.5rem 1rem;
		transition: 150ms ease;

		@media screen and (min-width: 576px) {
			html[dir=ltr] & {
				&:not(:first-of-type) {
					border-left-width: 0px;
				}

				&:first-of-type {
					border-top-left-radius: 0.25rem;
				}

				&:last-of-type {
					border-top-right-radius: 0.25rem;
				}
			}

			html[dir=rtl] & {
				&:not(:first-of-type) {
					border-right-width: 0px;
				}

				&:first-of-type {
					border-top-right-radius: 0.25rem;
				}

				&:last-of-type {
					border-top-left-radius: 0.25rem;
				}
			}
		}

		@media screen and (max-width: 575px) {
			width: 100%;

			&:first-of-type {
				border-radius: 0.25rem 0.25rem 0 0;
			}
		}
	}


	.tab {
		display: none;
		order: 99;
		padding: 1rem 1rem 0 1rem;
		margin-bottom: 1rem;
		width: 100%;
		border: 1px solid colours.$borders;

		@media screen and (min-width: 576px) {
			border-radius: 0 0.25rem 0.25rem 0.25rem;

			html[dir=rtl] & {
				border-radius: 0.25rem 0 0.25rem 0.25rem;
			}
		}


		@media screen and (max-width: 575px) {
			border-radius: 0 0 0.25rem 0.25rem;
		}
	}

	input:checked + .tab-link + .tab {
		display: block;
	}

	input:checked + .tab-link:not(:hover):not(:active):not(:focus) {
		background-color: colours.$borders;
		border-color: colours.$borders;
	}
	.tab-link:hover, .tab-link:active, .tab-link:focus {
		color: colours.$borders-hover-color;
		background-color: colours.$borders-hover;
		border-color: colours.$borders-hover;
	}
}


// FAQs
#faq-container {
	margin-bottom: 1rem;

	> details.accordian-item {
		margin-bottom: 0;

		> summary.accordion-button {
			color: colours.$header-color;

			// Padding for chevron
			html[dir=ltr] & {
				padding-right: 40px;
			}
			html[dir=rtl] & {
				padding-left: 40px;
			}

			&::-webkit-details-marker {
				display: none;
			}

			&::after {
				position: absolute;
				top: 35%;

				html[dir=ltr] & {
					right: 1rem;
				}
				html[dir=rtl] & {
					left: 1rem;
				}
			}
		}

		> .faq {
			background-color: colours.$active-accordian-bg-color;
		}

		&[open] {
			summary.accordion-button {
				color: colours.$active-accordian-header-color;
				background-color: colours.$active-accordian-header-bg-color;

				&::after {
					background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%230c63e4'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
					transform: rotate(-180deg);
				}
			}
		}
	}
}

// Select
.form-select-dark {
	background-color: #444;
	border: 1px solid #333;
}

// SVG
.icon {
	display: inline-block;
	width: 1em;
	height: 1em;
	stroke-width: 0;
	stroke: currentColor;
	fill: currentColor;
}

.icon-qr_code {
	font-size: 14px;
	margin-top: -3px;
}

@media only screen and (min-width: 576px) {
	// Seems to be broken in RTL in bootstrap v5.0-beta1, so override here
	html[dir=rtl] .dropdown-menu-sm-end {
		--bs-position: end;
		right: auto;
		left: 0;
	}
}

@media only screen and (min-width: 1024px) {
	.main-content {
		max-width: 1024px;
	}
}
@media only screen and (min-width: 1200px) {
	.main-content {
		max-width: 1200px;
	}
}
@media only screen and (min-width: 1600px) {
	.main-content {
		max-width: 75%;
	}
}

@media only screen and (max-width: 757px) {
	.dropdown-menu {
		border: 0;
	}
	.dropdown-item {
		font-weight: bold;
	}
	.dropdown-item:hover {
		background-color: inherit;
	}
}

@media only screen and (min-width: 576px) {
	// Fix nav on old browsers that don't support flex
	.navbar-expand-sm .navbar-collapse {
		display: block;
	}

	header {
		position: absolute;
		right: 1rem;
	}

	nav {
		header, .navbar-brand, .navbar-toggler, .navbar-collapse, .navbar-nav, li.nav-item, .dropdown {
			display: inline-block;
		}
	}

	html[dir=ltr] .lang-select-dropdown, .navbar-toggler {
		position: absolute;
		right: 0.75rem;
	}

	html[dir=rtl] .lang-select-dropdown, .navbar-toggler {
		position: absolute;
		left: 0.75rem;
	}
}
